'''++

Copyright (C) 2020 ADSK

All rights reserved.

This file has been generated by the Automatic Component Toolkit (ACT) version 1.7.0-develop.

Abstract: This is an autogenerated Python application that demonstrates the
 usage of the Python bindings of RTTI

Interface version: 1.0.0

'''


import os
import sys
sys.path.append(os.path.join(os.path.dirname(os.path.realpath(__file__)), "..", "..", "Bindings", "Python"))
import RTTI


def main():
	libpath = '' # TODO add the location of the shared library binary here
	wrapper = RTTI.Wrapper(libraryName = os.path.join(libpath, "rtti"))
	
	major, minor, micro = wrapper.GetVersion()
	print("RTTI version: {:d}.{:d}.{:d}".format(major, minor, micro), end="")
	print("")

	zoo = wrapper.CreateZoo(); assert zoo
	iter = zoo.Iterator(); assert iter

	# Animal name: Gerald Giraffe
	animal = iter.GetNextAnimal(); assert animal
	assert animal.Name() == "Gerald Giraffe"
	assert isinstance(animal, RTTI.Giraffe)

	# Animal name: Timmy Tiger
	animal = iter.GetNextAnimal(); assert animal
	
	assert animal.Name() == "Timmy Tiger"
	assert isinstance(animal, RTTI.Tiger)
	animal.Roar()

	# Animal name: Tony Tiger
	animal = iter.GetNextAnimal(); assert animal
	
	assert animal.Name() == "Tony Tiger"
	assert isinstance(animal, RTTI.Tiger)
	animal.Roar()

	# Animal name: Sebastian Snake
	animal = iter.GetNextAnimal(); assert animal
	
	assert animal.Name() == "Sebastian Snake"
	assert isinstance(animal, RTTI.Snake)

	# Animal name: Tobias Turtle
	animal = iter.GetNextAnimal(); assert animal
	
	assert animal.Name() == "Tobias Turtle"
	assert isinstance(animal, RTTI.Turtle)

	# Animal name: Theo Turtle
	animal = iter.GetNextAnimal(); assert animal
	
	assert animal.Name() == "Theo Turtle"
	assert isinstance(animal, RTTI.Turtle)

	# Animal name: Tomás Turtle
	animal = iter.GetNextAnimal(); assert animal
	
	assert animal.Name() == "Tomás Turtle"
	assert isinstance(animal, RTTI.Turtle)

	# Animal name: Slytherin Snake
	animal = iter.GetNextAnimal(); assert animal
	
	assert animal.Name() == "Slytherin Snake"
	assert isinstance(animal, RTTI.Snake)

	# Animal name: Travis Tiger
	animal = iter.GetNextAnimal(); assert animal
	
	assert animal.Name() == "Travis Tiger"
	assert isinstance(animal, RTTI.Tiger)
	animal.Roar()

	# Animal name: Gary Giraffe
	animal = iter.GetNextAnimal(); assert animal
	
	assert animal.Name() == "Gary Giraffe"
	assert isinstance(animal, RTTI.Giraffe)
	
	animal = iter.GetNextAnimal(); assert not animal

if __name__ == "__main__":
	try:
		main()
	except RTTI.ERTTIException as e:
		print(e)
