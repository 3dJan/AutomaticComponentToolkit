/*++

Copyright (C) 2021 ADSK

All rights reserved.

This file has been generated by the Automatic Component Toolkit (ACT) version 1.7.0-develop.

Abstract: This is an autogenerated Java application that demonstrates the
 usage of the Java bindings of RTTI

Interface version: 1.0.0

*/


import rtti.*;

public class RTTI_Example {

	public static void main(String[] args) throws RTTIException {
		String libpath = args[0];
		RTTIWrapper wrapper = new RTTIWrapper(libpath);
		
		RTTIWrapper.GetVersionResult version = wrapper.getVersion();
		System.out.print("RTTI version: " + version.Major + "." + version.Minor + "." + version.Micro);
		System.out.println();

		Zoo zoo = wrapper.createZoo();

		AnimalIterator iterator = zoo.iterator();

		Animal animal;
		// Animal name: Gerald Giraffe
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Gerald Giraffe"));
		assert(animal instanceof Giraffe);

		// Animal name: Timmy Tiger
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Timmy Tiger"));
		assert(animal instanceof Tiger);
		((Tiger)animal).roar();

		// Animal name: Tony Tiger
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Tony Tiger"));
		assert(animal instanceof Tiger);
		((Tiger)animal).roar();

		// Animal name: Sebastian Snake
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Sebastian Snake"));
		assert(animal instanceof Snake);

		// Animal name: Tobias Turtle
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Tobias Turtle"));
		assert(animal instanceof Turtle);

		// Animal name: Theo Turtle
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Theo Turtle"));
		assert(animal instanceof Turtle);

		// Animal name: Tomás Turtle
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Tomás Turtle"));
		assert(animal instanceof Turtle);

		// Animal name: Slytherin Snake
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Slytherin Snake"));
		assert(animal instanceof Snake);

		// Animal name: Travis Tiger
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Travis Tiger"));
		assert(animal instanceof Tiger);
		((Tiger)animal).roar();

		// Animal name: Gary Giraffe
		animal = iterator.getNextAnimal();
		assert(animal != null);
		assert(animal.name().equals("Gary Giraffe"));
		assert(animal instanceof Giraffe);
		
		animal = iterator.getNextAnimal();
		assert(animal == null);

	}
}

